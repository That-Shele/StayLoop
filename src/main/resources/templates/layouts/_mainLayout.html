<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="utf-8"/>
    <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
    <link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Plus+Jakarta+Sans%3Awght%40400%3B500%3B700%3B800" onload="this.rel='stylesheet'" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <title>Stayloop</title>
    <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style type="text/tailwindcss">
        :root {
            --primary-color: #3b82f6;--secondary-color: #f3f4f6;--text-primary: #1e3a8a;--text-secondary: #6b7280;--white: #ffffff;
            --border-color: #e5e7eb;--accent-green: #34d399;--background-light: #eff6ff; --background-color: #ffffff;
            --card-background-color: #f4f2f0; --brand-color: #e88030;
        }
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--background-light);
        }
        .primary-button {
            @apply bg-[var(--primary-color)] text-[var(--white)] hover:bg-opacity-90;
        }
        .secondary-button {
            @apply bg-[var(--secondary-color)] text-[var(--text-primary)] hover:bg-gray-200;
        }
        .input-field {
            @apply w-full rounded-xl transition-shadow duration-200 focus:ring-2 border-[var(--border-color)] bg-[var(--surface-secondary)] px-4 py-3 text-[var(--text-primary)] placeholder-[var(--text-secondary)] focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)];
        }
        .kpi-card {
        @apply flex flex-1 flex-col gap-2 rounded-xl p-6 bg-white border border-[var(--border-color)] transition-all hover:shadow-lg hover:-translate-y-1;
      }
      .property-item {
        @apply flex items-center gap-4 bg-white px-6 py-4 border-b border-[var(--border-color)] justify-between hover:bg-gray-50;
      }

        .form-input, .form-textarea {
        width: 100%;
        border-radius: 0.75rem;
        border: 1px solid #e5e7eb;
        background-color: white;
    }
    .form-input:focus, .form-textarea:focus {
        border-color: #3b82f6;
        --tw-ring-color: #3b82f6;
        box-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);
    }
    </style>
</head>
<body>
<div class="relative flex size-full min-h-screen flex-col bg-[var(--background-color)] group/design-root overflow-x-hidden" style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'>

    <!-- Header -->
    <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f4f2f0] px-10 py-4">
        <a th:href="@{/}">
        <div class="flex items-center gap-4 text-[var(--primary-text-color)] ">

            <div class="h-8 w-8 text-[var(--primary-color)]">
                <svg fill="currentColor" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                    <path d="M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z"></path>
                </svg>
            </div>
            <h2 class="text-2xl font-bold leading-tight tracking-[-0.015em]">StayLoop</h2>

        </div>
        </a>
        <nav sec:authorize="isAuthenticated()" class="hidden md:flex items-center gap-6 text-sm font-medium text-[var(--text-secondary)] mx-4">
            <a class="hover:text-[var(--primary-color)] transition-colors hover:font-semibold hover:border-b-2 hover:border-[var(--primary-color)] hover:pb-1" href="#">Stays</a>
            <a class="hover:text-[var(--primary-color)] transition-colors hover:font-semibold hover:border-b-2 hover:border-[var(--primary-color)] hover:pb-1" href="#">Flights</a>
            <a class="hover:text-[var(--primary-color)] transition-colors hover:font-semibold hover:border-b-2 hover:border-[var(--primary-color)] hover:pb-1" href="#">Car rentals</a>
            <a class="hover:text-[var(--primary-color)] transition-colors hover:font-semibold hover:border-b-2 hover:border-[var(--primary-color)] hover:pb-1" href="#">Attractions</a>
        </nav>
        <nav class="flex flex-1 justify-end gap-4">
            <button sec:authorize="isAnonymous()" class="flex items-center justify-center rounded-full h-12 px-6 bg-[var(--primary-color)] text-white font-bold hover:bg-green-500 transition-colors">
                <a th:href="@{/login}"><span>Iniciar Sesión</span></a>
            </button>
            <button sec:authorize="isAnonymous()" class="flex items-center justify-center rounded-full h-12 px-6 bg-[var(--card-background-color)] text-[var(--text-primary)] font-bold hover:bg-gray-200 transition-colors">
                <a th:href="@{/register}"><span>Registrarse</span></a>
            </button>
            <a th:href="@{/admin}" sec:authorize="hasAnyAuthority('admin')"  class="group flex h-10 w-10 cursor-pointer items-center justify-center overflow-hidden rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-[var(--accent-blue)]">
                <i class="bi bi-ui-radios-grid text-gray-400 group-hover:text-slate-900"></i>
            </a>
            <button sec:authorize="isAuthenticated()" class="flex items-center justify-center rounded-full h-12 px-6 bg-[var(--primary-color)] text-white font-bold hover:bg-red-500 transition-colors">
                <a th:href="@{/logout}"><span>Cerrar Sesión</span></a>
            </button>
            <button sec:authorize="isAuthenticated()">
                <img class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-11 border-2 border-transparent hover:border-[var(--primary-color)] transition-all" style='max-width: 44px; max-height: 44px;' alt="test" th:src="@{'/usuarioControl/imagen/' + ${#authentication.getName()}}"/>
            </button>
        </nav>
    </header>

    <div class="flex flex-1">
        <!-- Sidebar -->

        <!-- Contenido dinámico -->
        <main class="flex-1 p-6">
            <div layout:fragment="content">
                <!-- Aquí se inyectará el contenido de cada vista -->
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-50">
        <div class="mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8">
            <div class="flex flex-wrap items-center justify-center gap-x-8 gap-y-4">
                <a class="text-base text-gray-500 hover:text-gray-900" href="#">Sobre Nosotros</a>
                <a class="text-base text-gray-500 hover:text-gray-900" href="#">Términos y Condiciones</a>
            </div>
            <p class="mt-8 text-center text-base text-gray-400">© 2025 StayLoop. Todos los derechos reservados.</p>
        </div>
    </footer>
</div>
</body>
</html>
